TreeResource:
  type: object
  properties:
    id:
      type: string
      format: uuid
    type:
      type: string
      enum: [tree]
    attributes:
      $ref: '#/TreeAttributes'
    relationships:
      $ref: '#/TreeRelationships'
TreeAttributes:
  type: object
  properties:
    name:
      type: string
    description:
      type: string
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time
    owner:
      type: string
      format: uuid
    isPrivate:
      type: boolean
    isDeleted:
      type: boolean
    forks:
      type: integer
      format: int64
CreateTreeAttributes:
  type: object
  properties:
    name:
      type: string
    description:
      type: string
    isPrivate:
      type: boolean
    fork:
      type: string
      format: uuid
UpdateTreeAttributes:
  type: object
  properties:
    name:
      type: string
    description:
      type: string
    isPrivate:
      type: boolean
TreeRelationships:
  type: object
  properties:
    messages:
      properties:
        links:
          type: object
          properties:
            related:
              type: string
TreesResponse:
  type: object
  required:
    - data
  properties:
    data:
      type: array
      items:
        $ref: '#/TreeResource'
    links:
      $ref: '#/PaginationLinks'
TreeResponse:
  type: object
  required:
    - data
  properties:
    data:
      $ref: '#/TreeResource'
CreateTreeRequest:
  type: object
  required:
    - data
  properties:
    data:
      type: object
      required:
        - type
        - attributes
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
          enum: [tree]
        attributes:
          $ref: '#/CreateTreeAttributes'
UpdateTreeRequest:
  type: object
  required:
    - data
  properties:
    data:
      type: object
      required:
        - id
        - type
        - attributes
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
          enum: [tree]
        attributes:
          $ref: '#/UpdateTreeAttributes'
MessageResource:
  type: object
  properties:
    id:
      type: string
      format: uuid
    type:
      type: string
      enum: [message]
    attributes:
      $ref: '#/MessageAttributes'
MessageAttributes:
  type: object
  properties:
    createdAt:
      type: string
      format: date-time
    updatedAt:
      type: string
      format: date-time
    isDeleted:
      type: boolean
    parent:
      type:
        - string
        - null
      format: uuid
    role:
      type: string
    content:
      type: string
    tokens:
      type: integer
      format: int64
CreateMessageAttributes:
  type: object
  properties:
    parent:
      type: string
      format: uuid
    role:
      type: string
    content:
      type: string
UpdateMessageAttributes:
  type: object
  properties:
    parent:
      type: string
      format: uuid
    role:
      type: string
    content:
      type: string
MessagesResponse:
  type: object
  required:
    - data
  properties:
    data:
      type: array
      items:
        $ref: '#/MessageResource'
    links:
      $ref: '#/PaginationLinks'
MessageResponse:
  type: object
  required:
    - data
  properties:
    data:
      $ref: '#/MessageResource'
CreateMessageRequest:
  type: object
  required:
    - data
  properties:
    data:
      type: object
      required:
        - type
        - attributes
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
          enum: [message]
        attributes:
          $ref: '#/CreateMessageAttributes'
UpdateMessageRequest:
  type: object
  required:
    - data
  properties:
    data:
      type: object
      required:
        - id
        - type
        - attributes
      properties:
        id:
          type: string
          format: uuid
        type:
          type: string
          enum: [message]
        attributes:
          $ref: '#/UpdateMessageAttributes'
Error:
  type: object
  required:
    - detail
  properties:
    id:
      type: string
      format: uuid
    links:
      type: object
      properties:
        about:
          type: string
    status:
      type: string
    code:
      type: string
    title:
      type: string
    detail:
      type: string
ErrorsResponse:
  type: object
  required:
    - errors
  properties:
    errors:
      type: array
      items:
        $ref: '#/Error'
PaginationLinks:
  type: object
  properties:
    self:
      type: string
    first:
      type: string
    last:
      type: string
    prev:
      type:
        - string
        - null
    next:
      type:
        - string
        - null
